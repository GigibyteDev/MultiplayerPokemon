@using Microsoft.AspNetCore.Authorization
@inherits Fluxor.Blazor.Web.Components.FluxorComponent

@attribute [Authorize]

@if (RoomState.Value is not null)
{
<div class="room-title-wrapper">
    <h1 class="roomname-display-text">@RoomState.Value.RoomName</h1>
    <h4 class="username-display-text">Connected As: @UserState.Value?.User.Username</h4>
</div>
<div class="main-room-wrapper">
    <div class="pokemon-wrapper">
        
    </div>
    <div class="chat-wrapper">
        <h2>Chat</h2>
        <div class="chat-window">
            @foreach(var message in RoomState.Value.Chat.Messages)
            {
                <div class="message">
                    @message.MessageText
                </div>
            }
        </div>
        <form @onsubmit="HandleSendMessage" class="message-send-form">
            <input type="text" @bind-value="messageText" class="send-message-box"></input >
            <button type="submit">Send</button>
        </form>
    </div>
</div>
}



